{% extends 'base.html' %}
{% block body %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
<div class="d-flex flex-column">
  <div class="btn-group" role="group" aria-label="Vertical button group">
    <button id="region_btn" type="button" class="btn btn-success active">서울</button>
    <button id="region_btn" type="button" class="btn btn-light">부산</button>
    <button id="region_btn" type="button" class="btn btn-light">인천</button>
    <button id="region_btn" type="button" class="btn btn-light">제주도</button>
    <button id="region_btn" type="button" class="btn btn-light">강원도</button>
    <button id="region_btn" type="button" class="btn btn-light">경상도</button>
    <button id="region_btn" type="button" class="btn btn-light">충청도</button>
    <button id="region_btn" type="button" class="btn btn-light">전라도</button>
  </div>
  <div id="detail_region" class="btn-group" role="group" aria-label="Vertical button group">
    {% for detail_region in detail_regions %}
    <button type="button" class="btn btn-success">{{ detail_region }}</button>
    {% endfor %}
  </div>
</div>

<!-- CDN axios -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<script>


  const RegionBtns = document.querySelectorAll('#region_btn')
  const DetailRegion = document.querySelector('#detail_region')
  RegionBtns.forEach((RegionBtn) => {
    RegionBtn.addEventListener('click', function(e){
      e.preventDefault()
      axios.get('http://127.0.0.1:8000/hotels/', null, { params: {
        region: this.innerText,
      }
      })
      .then((response) => {
        console.log(response.data.detail_regions.value)
      })
    })
  })
  {% comment %} DetailRegion.innerHTML='<button type="button" class="btn btn-success active">text</button>' {% endcomment %}
</script>

<div>
  <h3>인기 호텔</h3>
  <div>서울 제주 부산 인천 강릉</div>
  <div class="d-flex gap-3">
    {% for hotel in hotels %}
    <div>
      <a href="" class="text-decoration-none text-dark">
        <img src="{{ hotel.image }}" class="img-fluid rounded my-3" alt="{{ hotel.name }}">
        <div class="ms-1">
          <h5 class="fw-bold my-1">{{ hotel.name }}</h5>
          <div class="my-1">
            <i class="bi bi-star-fill text-danger"></i>
            <b>{{ hotel.rating }}</b>
          </div>
          <b class="text-danger my-1 fs-5">{{ hotel.price }}~</b>
        </div>
      </a>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock body %}